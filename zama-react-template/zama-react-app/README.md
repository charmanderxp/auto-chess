# Zama React Template

This is a minimal template for building privacy-preserving decentralized applications (dApps) using Zama's **FHE (Fully Homomorphic Encryption)** technology on the **Sepolia** network.

The project consists of:
1.  **Contracts**: A Hardhat project containing the FHE Smart Contract.
2.  **Frontend**: A React (Vite) app to interact with the contract.

## üöÄ Features

The demo application is an **Encrypted Counter**:
*   **Increment/Decrement**: Modify the counter value without revealing the actual value on the blockchain (data is always in `euint32` format).
*   **User Decryption**: Allows the user (owner) to decrypt and view the actual counter value using EIP-712 signatures.

## üì¶ Versions Used (Tested & Compatible)

The project is built based on the latest and compatible versions of the Zama ecosystem (as of November 2024):

### Backend (Contracts)
*   **Hardhat**: `^2.19.0`
*   **@fhevm/solidity**: `^0.9.1` (Supports Sepolia)
*   **@fhevm/hardhat-plugin**: `^0.3.0-1`

### Frontend
*   **React**: `^18.2.0`
*   **Vite**: `^5.2.0`
*   **Ethers**: `^6.11.1`
*   **Zama Relayer SDK**: `0.3.0-5` (Loaded via CDN, compatible with FHEVM 0.9)

## üõ†Ô∏è Setup Instructions

### 1. Contracts Setup

Navigate to the contracts directory:
```bash
cd contracts
npm install
```

Environment Configuration:
*   Create a `.env` file (template provided).
*   Fill in the `PRIVATE_KEY` of your deployer wallet (requires Sepolia ETH).

Deploy to Sepolia:
```bash
npx hardhat run scripts/deploy.ts --network sepolia
```
*After successful deployment, the `FHECounter.json` file (containing address and ABI) will be automatically saved to `frontend/src/deployments/`.*

### 2. Frontend Setup

Navigate to the frontend directory:
```bash
cd ../frontend
npm install
```

Run the application:
```bash
npm run dev
```

Access `http://localhost:5173`, connect your Metamask wallet, and experience it!

## üìù Development Notes

*   **Auto-generated Deployments**: The frontend automatically reads the contract address from the JSON file generated by the deploy script. No manual copy-paste required.
*   **FHEVM Context**: The frontend uses `FhevmProvider` to manage connection state and SDK initialization.
*   **Checksum Addresses**: All addresses passed to the SDK are automatically normalized (checksummed) to avoid WASM errors.
